(()=>{let t=new IntersectionObserver((function(t,e){t.forEach((t=>{t.isIntersecting?t.target.classList.add("active"):t.target.classList.remove("active")}))}),{root:null,rootMargin:"-20px 0px",threshold:.5});document.querySelectorAll(".anim").forEach((e=>{t.observe(e)})),window.addEventListener("scroll",(function(){const t=document.querySelector(".main__arrow");window.scrollY>300?t.classList.remove("visible"):t.classList.add("visible")})),document.getElementById("non-alcoholic").addEventListener("change",(function(){document.querySelectorAll('input[name="drinking[]"]:not(#non-alcoholic)').forEach((t=>{t.checked=!1,t.disabled=this.checked}))})),document.querySelector(".countdown");const e=new Date("2027-07-07T12:00:00");setInterval((function(){const t=new Date,n=e-t,o=Math.floor(n/864e5),s=Math.floor(n%864e5/36e5),a=Math.floor(n%36e5/6e4),c=Math.floor(n%6e4/1e3);document.getElementById("days").innerText=o.toString().padStart(2,"0"),document.getElementById("hours").innerText=s.toString().padStart(2,"0"),document.getElementById("minutes").innerText=a.toString().padStart(2,"0"),document.getElementById("seconds").innerText=c.toString().padStart(2,"0")}),1e3);const n=document.getElementById("playStopIcon"),o=document.getElementById("audio"),s=document.querySelector(".audio-btn__play"),a=document.querySelector(".audio-btn__stop");window.addEventListener("load",(()=>{o.paused?(s.classList.add("btn-hidden"),a.classList.remove("btn-hidden")):(s.classList.remove("btn-hidden"),a.classList.add("btn-hidden"))})),n.addEventListener("click",(function(){o.paused?(o.play(),s.classList.remove("btn-hidden"),a.classList.add("btn-hidden")):(o.pause(),s.classList.add("btn-hidden"),a.classList.remove("btn-hidden"))})),document.addEventListener("touchstart",(function(t){t.target&&t.target.matches(".button")&&t.target.classList.add("button__touch")})),document.addEventListener("touchend",(function(t){t.target&&t.target.matches(".button")&&t.target.classList.remove("button__touch")})),document.addEventListener("click",(function(t){t.target&&t.target.matches(".button")&&(t.target.classList.add("button__touch"),setTimeout((function(){t.target.classList.remove("button__touch")}),200))})),document.querySelector("form").addEventListener("submit",(function(t){t.preventDefault();const e=t.target,n=new FormData(e);fetch("send.php",{method:"POST",body:n}).then((t=>t.json())).then((t=>{const n=document.getElementById("form-toast");n.textContent=t.message,n.className="toast show "+(t.success?"success":"error"),t.success&&e.reset(),setTimeout((()=>{n.className="toast"}),8e3)})).catch((()=>{const t=document.getElementById("form-toast");t.textContent="Спасибо! Ваш ответ получен!",t.className="toast show error",setTimeout((()=>{t.className="toast"}),4e3)}))}))})();